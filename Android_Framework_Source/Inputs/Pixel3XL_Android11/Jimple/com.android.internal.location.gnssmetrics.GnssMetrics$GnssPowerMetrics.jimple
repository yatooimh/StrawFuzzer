class com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics extends java.lang.Object
{
    public static final double POOR_TOP_FOUR_AVG_CN0_THRESHOLD_DB_HZ;
    private static final double REPORTING_THRESHOLD_DB_HZ;
    private final com.android.internal.app.IBatteryStats mBatteryStats;
    private double mLastAverageCn0;
    private int mLastSignalLevel;
    final com.android.internal.location.gnssmetrics.GnssMetrics this$0;

    private void <init>(com.android.internal.location.gnssmetrics.GnssMetrics, com.android.internal.app.IBatteryStats)
    {
        com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics r0;
        com.android.internal.location.gnssmetrics.GnssMetrics r1;
        com.android.internal.app.IBatteryStats r2;

        r0 := @this: com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics;

        r1 := @parameter0: com.android.internal.location.gnssmetrics.GnssMetrics;

        r2 := @parameter1: com.android.internal.app.IBatteryStats;

        r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: com.android.internal.location.gnssmetrics.GnssMetrics this$0> = r1;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: com.android.internal.app.IBatteryStats mBatteryStats> = r2;

        r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: double mLastAverageCn0> = -100.0;

        r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: int mLastSignalLevel> = -1;

        return;
    }

    void <init>(com.android.internal.location.gnssmetrics.GnssMetrics, com.android.internal.app.IBatteryStats, com.android.internal.location.gnssmetrics.GnssMetrics$1)
    {
        com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics r0;
        com.android.internal.location.gnssmetrics.GnssMetrics r1;
        com.android.internal.app.IBatteryStats r2;
        com.android.internal.location.gnssmetrics.GnssMetrics$1 r3;

        r0 := @this: com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics;

        r1 := @parameter0: com.android.internal.location.gnssmetrics.GnssMetrics;

        r2 := @parameter1: com.android.internal.app.IBatteryStats;

        r3 := @parameter2: com.android.internal.location.gnssmetrics.GnssMetrics$1;

        specialinvoke r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: void <init>(com.android.internal.location.gnssmetrics.GnssMetrics,com.android.internal.app.IBatteryStats)>(r1, r2);

        return;
    }

    private int getSignalLevel(double)
    {
        com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics r0;
        double d0;
        byte $b0;

        r0 := @this: com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics;

        d0 := @parameter0: double;

        $b0 = d0 cmpl 20.0;

        if $b0 <= 0 goto label1;

        return 1;

     label1:
        return 0;
    }

    public com.android.internal.location.nano.GnssLogsProto$PowerMetrics buildProto()
    {
        com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics r0, $r4;
        com.android.internal.location.nano.GnssLogsProto$PowerMetrics $r2;
        com.android.internal.location.gnssmetrics.GnssMetrics $r3;
        long $l0, $l1, $l4;
        double $d0, $d1;
        int $i2, $i3, i5;
        long[] $r5, $r6, r8;
        android.os.connectivity.GpsBatteryStats r7;

        r0 := @this: com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics;

        $r2 = new com.android.internal.location.nano.GnssLogsProto$PowerMetrics;

        specialinvoke $r2.<com.android.internal.location.nano.GnssLogsProto$PowerMetrics: void <init>()>();

        $r3 = r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: com.android.internal.location.gnssmetrics.GnssMetrics this$0>;

        $r4 = staticinvoke <com.android.internal.location.gnssmetrics.GnssMetrics: com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics access$200(com.android.internal.location.gnssmetrics.GnssMetrics)>($r3);

        r7 = virtualinvoke $r4.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: android.os.connectivity.GpsBatteryStats getGpsBatteryStats()>();

        if r7 == null goto label2;

        $l0 = virtualinvoke r7.<android.os.connectivity.GpsBatteryStats: long getLoggingDurationMs()>();

        $r2.<com.android.internal.location.nano.GnssLogsProto$PowerMetrics: long loggingDurationMs> = $l0;

        $l1 = virtualinvoke r7.<android.os.connectivity.GpsBatteryStats: long getEnergyConsumedMaMs()>();

        $d0 = (double) $l1;

        $d1 = $d0 / 3600000.0;

        $r2.<com.android.internal.location.nano.GnssLogsProto$PowerMetrics: double energyConsumedMah> = $d1;

        r8 = virtualinvoke r7.<android.os.connectivity.GpsBatteryStats: long[] getTimeInGpsSignalQualityLevel()>();

        $i2 = lengthof r8;

        $r5 = newarray (long)[$i2];

        $r2.<com.android.internal.location.nano.GnssLogsProto$PowerMetrics: long[] timeInSignalQualityLevelMs> = $r5;

        i5 = 0;

     label1:
        $i3 = lengthof r8;

        if i5 >= $i3 goto label2;

        $r6 = $r2.<com.android.internal.location.nano.GnssLogsProto$PowerMetrics: long[] timeInSignalQualityLevelMs>;

        $l4 = r8[i5];

        $r6[i5] = $l4;

        i5 = i5 + 1;

        goto label1;

     label2:
        return $r2;
    }

    public android.os.connectivity.GpsBatteryStats getGpsBatteryStats()
    {
        com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics r0;
        com.android.internal.app.IBatteryStats $r1;
        java.lang.Exception $r2;
        java.lang.String $r3;
        android.os.connectivity.GpsBatteryStats r4;

        r0 := @this: com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics;

     label1:
        $r1 = r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: com.android.internal.app.IBatteryStats mBatteryStats>;

        r4 = interfaceinvoke $r1.<com.android.internal.app.IBatteryStats: android.os.connectivity.GpsBatteryStats getGpsBatteryStats()>();

     label2:
        return r4;

     label3:
        $r2 := @caughtexception;

        $r3 = staticinvoke <com.android.internal.location.gnssmetrics.GnssMetrics: java.lang.String access$300()>();

        staticinvoke <android.util.Log: int w(java.lang.String,java.lang.String,java.lang.Throwable)>($r3, "Exception", $r2);

        return null;

        catch java.lang.Exception from label1 to label2 with label3;
    }

    public void reportSignalQuality(float[], int)
    {
        com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics r0;
        double $d0, $d1, $d2, $d3, $d4, d5, d6;
        byte $b0;
        int $i1, $i2, $i3, i5, i6, i7;
        com.android.internal.app.IBatteryStats $r1;
        float $f0;
        java.lang.Exception $r2;
        java.lang.String $r3;
        float[] r4;

        r0 := @this: com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics;

        r4 := @parameter0: float[];

        i5 := @parameter1: int;

        d5 = 0.0;

        d6 = 0.0;

        if i5 <= 0 goto label3;

        $i2 = i5 - 4;

        i6 = staticinvoke <java.lang.Math: int max(int,int)>(0, $i2);

     label1:
        if i6 >= i5 goto label2;

        $f0 = r4[i6];

        $d4 = (double) $f0;

        d5 = d5 + $d4;

        i6 = i6 + 1;

        goto label1;

     label2:
        $i3 = staticinvoke <java.lang.Math: int min(int,int)>(i5, 4);

        $d3 = (double) $i3;

        d6 = d5 / $d3;

     label3:
        $d0 = r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: double mLastAverageCn0>;

        $d1 = d6 - $d0;

        $d2 = staticinvoke <java.lang.Math: double abs(double)>($d1);

        $b0 = $d2 cmpg 1.0;

        if $b0 >= 0 goto label4;

        return;

     label4:
        i7 = specialinvoke r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: int getSignalLevel(double)>(d6);

        $i1 = r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: int mLastSignalLevel>;

        if i7 == $i1 goto label5;

        staticinvoke <com.android.internal.util.FrameworkStatsLog: void write(int,int)>(69, i7);

        r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: int mLastSignalLevel> = i7;

     label5:
        $r1 = r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: com.android.internal.app.IBatteryStats mBatteryStats>;

        interfaceinvoke $r1.<com.android.internal.app.IBatteryStats: void noteGpsSignalQuality(int)>(i7);

        r0.<com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: double mLastAverageCn0> = d6;

     label6:
        goto label8;

     label7:
        $r2 := @caughtexception;

        $r3 = staticinvoke <com.android.internal.location.gnssmetrics.GnssMetrics: java.lang.String access$300()>();

        staticinvoke <android.util.Log: int w(java.lang.String,java.lang.String,java.lang.Throwable)>($r3, "Exception", $r2);

     label8:
        return;

        catch java.lang.Exception from label5 to label6 with label7;
    }

    public static void <clinit>()
    {
        <com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: double REPORTING_THRESHOLD_DB_HZ> = 1.0;

        <com.android.internal.location.gnssmetrics.GnssMetrics$GnssPowerMetrics: double POOR_TOP_FOUR_AVG_CN0_THRESHOLD_DB_HZ> = 20.0;

        return;
    }
}
