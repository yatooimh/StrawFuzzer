public class com.android.internal.telephony.MissedIncomingCallSmsFilter extends java.lang.Object
{
    private static final android.content.ComponentName PSTN_CONNECTION_SERVICE_COMPONENT;
    private static final java.lang.String SMS_CALLER_ID_TAG;
    private static final java.lang.String SMS_DAY_TAG;
    private static final java.lang.String SMS_HOUR_TAG;
    private static final java.lang.String SMS_MINUTE_TAG;
    private static final java.lang.String SMS_MONTH_TAG;
    private static final java.lang.String SMS_YEAR_TAG;
    private static final java.lang.String TAG;
    private static final boolean VDBG;
    private android.os.PersistableBundle mCarrierConfig;
    private final com.android.internal.telephony.Phone mPhone;

    static void <clinit>()
    {
        java.lang.Class $r0;
        java.lang.String $r1;
        android.content.ComponentName $r2;

        <com.android.internal.telephony.MissedIncomingCallSmsFilter: boolean VDBG> = 0;

        <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String SMS_YEAR_TAG> = "year";

        <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String SMS_MONTH_TAG> = "month";

        <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String SMS_MINUTE_TAG> = "minute";

        <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String SMS_HOUR_TAG> = "hour";

        <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String SMS_DAY_TAG> = "day";

        <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String SMS_CALLER_ID_TAG> = "callerId";

        $r0 = class "Lcom/android/internal/telephony/MissedIncomingCallSmsFilter;";

        $r1 = virtualinvoke $r0.<java.lang.Class: java.lang.String getSimpleName()>();

        <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String TAG> = $r1;

        $r2 = new android.content.ComponentName;

        specialinvoke $r2.<android.content.ComponentName: void <init>(java.lang.String,java.lang.String)>("com.android.phone", "com.android.services.telephony.TelephonyConnectionService");

        <com.android.internal.telephony.MissedIncomingCallSmsFilter: android.content.ComponentName PSTN_CONNECTION_SERVICE_COMPONENT> = $r2;

        return;
    }

    public void <init>(com.android.internal.telephony.Phone)
    {
        com.android.internal.telephony.MissedIncomingCallSmsFilter r0;
        android.content.Context $r1;
        java.lang.Object $r2;
        com.android.internal.telephony.Phone $r3, r5;
        int $i0;
        android.os.PersistableBundle $r4;
        android.telephony.CarrierConfigManager r6;

        r0 := @this: com.android.internal.telephony.MissedIncomingCallSmsFilter;

        r5 := @parameter0: com.android.internal.telephony.Phone;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: com.android.internal.telephony.Phone mPhone> = r5;

        $r1 = virtualinvoke r5.<com.android.internal.telephony.Phone: android.content.Context getContext()>();

        $r2 = virtualinvoke $r1.<android.content.Context: java.lang.Object getSystemService(java.lang.String)>("carrier_config");

        r6 = (android.telephony.CarrierConfigManager) $r2;

        if r6 == null goto label1;

        $r3 = r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: com.android.internal.telephony.Phone mPhone>;

        $i0 = virtualinvoke $r3.<com.android.internal.telephony.Phone: int getSubId()>();

        $r4 = virtualinvoke r6.<android.telephony.CarrierConfigManager: android.os.PersistableBundle getConfigForSubId(int)>($i0);

        r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: android.os.PersistableBundle mCarrierConfig> = $r4;

     label1:
        return;
    }

    private void createMissedIncomingCallEvent(long, java.lang.String)
    {
        com.android.internal.telephony.MissedIncomingCallSmsFilter r0;
        long l0;
        java.lang.String r1;
        android.telecom.TelecomManager r2;
        com.android.internal.telephony.Phone $r4, $r8;
        android.content.Context $r5;
        java.lang.Object $r6;
        android.os.Bundle $r7;
        android.telecom.PhoneAccountHandle $r9;
        android.net.Uri $r10;

        r0 := @this: com.android.internal.telephony.MissedIncomingCallSmsFilter;

        l0 := @parameter0: long;

        r1 := @parameter1: java.lang.String;

        $r4 = r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: com.android.internal.telephony.Phone mPhone>;

        $r5 = virtualinvoke $r4.<com.android.internal.telephony.Phone: android.content.Context getContext()>();

        $r6 = virtualinvoke $r5.<android.content.Context: java.lang.Object getSystemService(java.lang.String)>("telecom");

        r2 = (android.telecom.TelecomManager) $r6;

        if r2 == null goto label2;

        $r7 = new android.os.Bundle;

        specialinvoke $r7.<android.os.Bundle: void <init>()>();

        if r1 == null goto label1;

        $r10 = staticinvoke <android.net.Uri: android.net.Uri fromParts(java.lang.String,java.lang.String,java.lang.String)>("tel", r1, null);

        virtualinvoke $r7.<android.os.Bundle: void putParcelable(java.lang.String,android.os.Parcelable)>("android.telecom.extra.INCOMING_CALL_ADDRESS", $r10);

     label1:
        virtualinvoke $r7.<android.os.Bundle: void putLong(java.lang.String,long)>("android.telecom.extra.CALL_CREATED_EPOCH_TIME_MILLIS", l0);

        $r8 = r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: com.android.internal.telephony.Phone mPhone>;

        $r9 = staticinvoke <com.android.internal.telephony.MissedIncomingCallSmsFilter: android.telecom.PhoneAccountHandle makePstnPhoneAccountHandle(com.android.internal.telephony.Phone)>($r8);

        virtualinvoke r2.<android.telecom.TelecomManager: void addNewIncomingCall(android.telecom.PhoneAccountHandle,android.os.Bundle)>($r9, $r7);

     label2:
        return;
    }

    private long getEpochTime(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)
    {
        com.android.internal.telephony.MissedIncomingCallSmsFilter r0;
        java.lang.String r1, r2, r3, r4, r15, r16, $r19;
        java.time.LocalDateTime r5, r20;
        java.time.format.DateTimeFormatter r6;
        boolean $z0, $z1;
        java.time.ZoneId $r12;
        java.time.ZonedDateTime $r13;
        java.time.Instant $r14;
        long $l0;
        int $i1, $i2, $i3;
        java.lang.StringBuilder $r17;

        r0 := @this: com.android.internal.telephony.MissedIncomingCallSmsFilter;

        r15 := @parameter0: java.lang.String;

        r1 := @parameter1: java.lang.String;

        r2 := @parameter2: java.lang.String;

        r3 := @parameter3: java.lang.String;

        r4 := @parameter4: java.lang.String;

        r5 = staticinvoke <java.time.LocalDateTime: java.time.LocalDateTime now()>();

        r16 = r15;

        $z0 = staticinvoke <android.text.TextUtils: boolean isEmpty(java.lang.CharSequence)>(r15);

        if $z0 == 0 goto label1;

        $i1 = virtualinvoke r5.<java.time.LocalDateTime: int getYear()>();

        r16 = staticinvoke <java.lang.Integer: java.lang.String toString(int)>($i1);

     label1:
        r6 = staticinvoke <java.time.format.DateTimeFormatter: java.time.format.DateTimeFormatter ofPattern(java.lang.String)>("yyyyMMddHHmm");

        $r17 = new java.lang.StringBuilder;

        specialinvoke $r17.<java.lang.StringBuilder: void <init>()>();

        virtualinvoke $r17.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r16);

        virtualinvoke $r17.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r1);

        virtualinvoke $r17.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r2);

        virtualinvoke $r17.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r3);

        virtualinvoke $r17.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r4);

        $r19 = virtualinvoke $r17.<java.lang.StringBuilder: java.lang.String toString()>();

        r20 = staticinvoke <java.time.LocalDateTime: java.time.LocalDateTime parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)>($r19, r6);

        $i2 = staticinvoke <java.lang.Integer: int parseInt(java.lang.String)>(r16);

        $i3 = $i2 - 1;

        r16 = staticinvoke <java.lang.Integer: java.lang.String toString(int)>($i3);

        $z1 = virtualinvoke r20.<java.time.LocalDateTime: boolean isAfter(java.time.chrono.ChronoLocalDateTime)>(r5);

        if $z1 != 0 goto label2;

        $r12 = staticinvoke <java.time.ZoneId: java.time.ZoneId systemDefault()>();

        $r13 = virtualinvoke r20.<java.time.LocalDateTime: java.time.ZonedDateTime atZone(java.time.ZoneId)>($r12);

        $r14 = virtualinvoke $r13.<java.time.ZonedDateTime: java.time.Instant toInstant()>();

        $l0 = virtualinvoke $r14.<java.time.Instant: long toEpochMilli()>();

        return $l0;

     label2:
        goto label1;
    }

    private static android.telecom.PhoneAccountHandle makePstnPhoneAccountHandle(com.android.internal.telephony.Phone)
    {
        com.android.internal.telephony.Phone r0;
        android.telecom.PhoneAccountHandle $r1;
        android.content.ComponentName $r2;
        java.lang.String $r3, $r4;

        r0 := @parameter0: com.android.internal.telephony.Phone;

        $r1 = new android.telecom.PhoneAccountHandle;

        $r2 = <com.android.internal.telephony.MissedIncomingCallSmsFilter: android.content.ComponentName PSTN_CONNECTION_SERVICE_COMPONENT>;

        $r3 = virtualinvoke r0.<com.android.internal.telephony.Phone: java.lang.String getFullIccSerialNumber()>();

        $r4 = staticinvoke <java.lang.String: java.lang.String valueOf(java.lang.Object)>($r3);

        specialinvoke $r1.<android.telecom.PhoneAccountHandle: void <init>(android.content.ComponentName,java.lang.String)>($r2, $r4);

        return $r1;
    }

    private boolean processSms(android.telephony.SmsMessage)
    {
        com.android.internal.telephony.MissedIncomingCallSmsFilter r0;
        int i0, $i2, i5;
        java.util.regex.Matcher r1;
        java.lang.String r2, $r4, $r5, $r6, $r7, $r9, $r12, $r16, r19, r21, r22, r23, r24, r25, r26, r28, r29, r30, r32;
        long l1, l6, l7;
        android.os.PersistableBundle $r3;
        boolean $z0;
        byte $b3, $b4;
        java.lang.Throwable $r8, $r10, $r13, $r14;
        java.lang.StringBuilder $r11;
        java.lang.Exception $r15;
        android.telephony.SmsMessage r17;
        java.lang.String[] r18;
        java.util.regex.Pattern r20;

        r0 := @this: com.android.internal.telephony.MissedIncomingCallSmsFilter;

        r17 := @parameter0: android.telephony.SmsMessage;

        $r3 = r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: android.os.PersistableBundle mCarrierConfig>;

        r18 = virtualinvoke $r3.<android.os.PersistableBundle: java.lang.String[] getStringArray(java.lang.String)>("missed_incoming_call_sms_pattern_string_array");

        if r18 == null goto label32;

        $i2 = lengthof r18;

        if $i2 != 0 goto label01;

        goto label32;

     label01:
        i0 = lengthof r18;

        i5 = 0;

     label02:
        if i5 >= i0 goto label31;

        r19 = r18[i5];

     label03:
        r20 = staticinvoke <java.util.regex.Pattern: java.util.regex.Pattern compile(java.lang.String,int)>(r19, 33);

     label04:
        $r6 = virtualinvoke r17.<android.telephony.SmsMessage: java.lang.String getMessageBody()>();

        r1 = virtualinvoke r20.<java.util.regex.Pattern: java.util.regex.Matcher matcher(java.lang.CharSequence)>($r6);

        r21 = null;

        $z0 = virtualinvoke r1.<java.util.regex.Matcher: boolean find()>();

        if $z0 == 0 goto label30;

        r22 = null;

        r23 = null;

     label05:
        r24 = virtualinvoke r1.<java.util.regex.Matcher: java.lang.String group(java.lang.String)>("month");

     label06:
        r21 = r24;

        r22 = null;

        r23 = null;

     label07:
        r25 = virtualinvoke r1.<java.util.regex.Matcher: java.lang.String group(java.lang.String)>("day");

     label08:
        r21 = r24;

        r22 = r25;

        r23 = null;

     label09:
        r26 = virtualinvoke r1.<java.util.regex.Matcher: java.lang.String group(java.lang.String)>("hour");

     label10:
        r21 = r24;

        r22 = r25;

        r23 = r26;

     label11:
        r2 = virtualinvoke r1.<java.util.regex.Matcher: java.lang.String group(java.lang.String)>("minute");

     label12:
        r23 = r26;

        r21 = r24;

        r22 = r25;

        l6 = 0L;

        r28 = r2;

        goto label14;

     label13:
        $r14 := @caughtexception;

        l6 = staticinvoke <java.lang.System: long currentTimeMillis()>();

        r28 = null;

     label14:
        r29 = virtualinvoke r1.<java.util.regex.Matcher: java.lang.String group(java.lang.String)>("year");

     label15:
        goto label17;

     label16:
        $r13 := @caughtexception;

        r29 = null;

     label17:
        l7 = l6;

        $b3 = l6 cmp 0L;

        if $b3 != 0 goto label25;

     label18:
        l1 = specialinvoke r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: long getEpochTime(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)>(r29, r21, r22, r23, r28);

     label19:
        l7 = l1;

        $b4 = l1 cmp 0L;

        if $b4 != 0 goto label25;

        l6 = l1;

     label20:
        $r7 = <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String TAG>;

        staticinvoke <android.telephony.Rlog: int e(java.lang.String,java.lang.String)>($r7, "Can\'t get the time. Use the current time.");

     label21:
        l6 = l1;

     label22:
        l7 = staticinvoke <java.lang.System: long currentTimeMillis()>();

     label23:
        goto label25;

     label24:
        $r15 := @caughtexception;

        $r16 = <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String TAG>;

        staticinvoke <android.telephony.Rlog: int e(java.lang.String,java.lang.String)>($r16, "Can\'t get the time for missed incoming call");

        l7 = l6;

        goto label25;

     label25:
        r30 = virtualinvoke r1.<java.util.regex.Matcher: java.lang.String group(java.lang.String)>("callerId");

     label26:
        goto label28;

     label27:
        $r8 := @caughtexception;

        $r9 = <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String TAG>;

        staticinvoke <android.telephony.Rlog: int d(java.lang.String,java.lang.String)>($r9, "Caller id is not provided or can\'t be parsed.");

        r30 = null;

     label28:
        specialinvoke r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: void createMissedIncomingCallEvent(long,java.lang.String)>(l7, r30);

        return 1;

     label29:
        $r10 := @caughtexception;

        r32 = <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String TAG>;

        $r11 = new java.lang.StringBuilder;

        specialinvoke $r11.<java.lang.StringBuilder: void <init>()>();

        virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("Configuration error. Unexpected missed incoming call sms pattern: ");

        virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r19);

        virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(", e=");

        virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.Object)>($r10);

        $r12 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <android.telephony.Rlog: int w(java.lang.String,java.lang.String)>(r32, $r12);

     label30:
        i5 = i5 + 1;

        goto label02;

     label31:
        $r5 = <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String TAG>;

        staticinvoke <android.telephony.Rlog: int d(java.lang.String,java.lang.String)>($r5, "SMS did not match any missed incoming call SMS pattern.");

        return 0;

     label32:
        $r4 = <com.android.internal.telephony.MissedIncomingCallSmsFilter: java.lang.String TAG>;

        staticinvoke <android.telephony.Rlog: int w(java.lang.String,java.lang.String)>($r4, "Missed incoming call SMS pattern is not configured!");

        return 0;

        catch java.util.regex.PatternSyntaxException from label03 to label04 with label29;
        catch java.lang.IllegalArgumentException from label05 to label06 with label13;
        catch java.lang.IllegalArgumentException from label07 to label08 with label13;
        catch java.lang.IllegalArgumentException from label09 to label10 with label13;
        catch java.lang.IllegalArgumentException from label11 to label12 with label13;
        catch java.lang.IllegalArgumentException from label14 to label15 with label16;
        catch java.lang.Exception from label18 to label19 with label24;
        catch java.lang.Exception from label20 to label21 with label24;
        catch java.lang.Exception from label22 to label23 with label24;
        catch java.lang.IllegalArgumentException from label25 to label26 with label27;
    }

    public boolean filter(byte[][], java.lang.String)
    {
        com.android.internal.telephony.MissedIncomingCallSmsFilter r0;
        java.lang.String r1, $r3, $r5;
        int $i0;
        byte[] $r2;
        boolean $z0, $z1, $z2;
        java.util.List $r4;
        byte[][] r6;
        android.os.PersistableBundle r7;
        java.lang.String[] r8;
        android.telephony.SmsMessage r9;

        r0 := @this: com.android.internal.telephony.MissedIncomingCallSmsFilter;

        r6 := @parameter0: byte[][];

        r1 := @parameter1: java.lang.String;

        $i0 = lengthof r6;

        if $i0 == 1 goto label1;

        return 0;

     label1:
        r7 = r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: android.os.PersistableBundle mCarrierConfig>;

        if r7 == null goto label2;

        r8 = virtualinvoke r7.<android.os.PersistableBundle: java.lang.String[] getStringArray(java.lang.String)>("missed_incoming_call_sms_originator_string_array");

        if r8 == null goto label2;

        $r2 = r6[0];

        r9 = staticinvoke <android.telephony.SmsMessage: android.telephony.SmsMessage createFromPdu(byte[],java.lang.String)>($r2, r1);

        if r9 == null goto label2;

        $r3 = virtualinvoke r9.<android.telephony.SmsMessage: java.lang.String getOriginatingAddress()>();

        $z0 = staticinvoke <android.text.TextUtils: boolean isEmpty(java.lang.CharSequence)>($r3);

        if $z0 != 0 goto label2;

        $r4 = staticinvoke <java.util.Arrays: java.util.List asList(java.lang.Object[])>(r8);

        $r5 = virtualinvoke r9.<android.telephony.SmsMessage: java.lang.String getOriginatingAddress()>();

        $z1 = interfaceinvoke $r4.<java.util.List: boolean contains(java.lang.Object)>($r5);

        if $z1 == 0 goto label2;

        $z2 = specialinvoke r0.<com.android.internal.telephony.MissedIncomingCallSmsFilter: boolean processSms(android.telephony.SmsMessage)>(r9);

        return $z2;

     label2:
        return 0;
    }
}
