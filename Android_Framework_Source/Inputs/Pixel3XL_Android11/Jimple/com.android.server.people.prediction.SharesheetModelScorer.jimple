class com.android.server.people.prediction.SharesheetModelScorer extends java.lang.Object
{
    static final java.lang.String CHOOSER_ACTIVITY;
    private static final boolean DEBUG;
    private static final long FOREGROUND_APP_PROMO_TIME_WINDOW;
    static final float FOREGROUND_APP_WEIGHT;
    private static final float FREQUENTLY_USED_APP_SCORE_INITIAL_DECAY;
    private static final long ONE_MONTH_WINDOW;
    private static final float RECENCY_INITIAL_BASE_SCORE;
    private static final java.lang.Integer RECENCY_SCORE_COUNT;
    private static final float RECENCY_SCORE_INITIAL_DECAY;
    private static final float RECENCY_SCORE_SUBSEQUENT_DECAY;
    private static final java.lang.String TAG;
    private static final float USAGE_STATS_CHOOSER_SCORE_INITIAL_DECAY;

    static void <clinit>()
    {
        java.lang.Integer $r0;
        java.util.concurrent.TimeUnit $r1, $r2;
        long $l0, $l1;
        java.lang.Class $r3;
        java.lang.String $r4;

        <com.android.server.people.prediction.SharesheetModelScorer: float USAGE_STATS_CHOOSER_SCORE_INITIAL_DECAY> = 0.9F;

        <com.android.server.people.prediction.SharesheetModelScorer: java.lang.String TAG> = "SharesheetModelScorer";

        <com.android.server.people.prediction.SharesheetModelScorer: float RECENCY_SCORE_SUBSEQUENT_DECAY> = 0.02F;

        <com.android.server.people.prediction.SharesheetModelScorer: float RECENCY_SCORE_INITIAL_DECAY> = 0.05F;

        <com.android.server.people.prediction.SharesheetModelScorer: float RECENCY_INITIAL_BASE_SCORE> = 0.4F;

        <com.android.server.people.prediction.SharesheetModelScorer: float FREQUENTLY_USED_APP_SCORE_INITIAL_DECAY> = 0.3F;

        <com.android.server.people.prediction.SharesheetModelScorer: float FOREGROUND_APP_WEIGHT> = 0.0F;

        <com.android.server.people.prediction.SharesheetModelScorer: boolean DEBUG> = 0;

        $r0 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(int)>(6);

        <com.android.server.people.prediction.SharesheetModelScorer: java.lang.Integer RECENCY_SCORE_COUNT> = $r0;

        $r1 = <java.util.concurrent.TimeUnit: java.util.concurrent.TimeUnit DAYS>;

        $l0 = virtualinvoke $r1.<java.util.concurrent.TimeUnit: long toMillis(long)>(30L);

        <com.android.server.people.prediction.SharesheetModelScorer: long ONE_MONTH_WINDOW> = $l0;

        $r2 = <java.util.concurrent.TimeUnit: java.util.concurrent.TimeUnit MINUTES>;

        $l1 = virtualinvoke $r2.<java.util.concurrent.TimeUnit: long toMillis(long)>(10L);

        <com.android.server.people.prediction.SharesheetModelScorer: long FOREGROUND_APP_PROMO_TIME_WINDOW> = $l1;

        $r3 = class "Lcom/android/internal/app/ChooserActivity;";

        $r4 = virtualinvoke $r3.<java.lang.Class: java.lang.String getSimpleName()>();

        <com.android.server.people.prediction.SharesheetModelScorer: java.lang.String CHOOSER_ACTIVITY> = $r4;

        return;
    }

    private void <init>()
    {
        com.android.server.people.prediction.SharesheetModelScorer r0;

        r0 := @this: com.android.server.people.prediction.SharesheetModelScorer;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        return;
    }

    static void computeScore(java.util.List, int, long)
    {
        java.util.List r0, r48, r51;
        long l0, $l10, $l11, $l13, $l14, $l15, $l16;
        boolean z0, $z1, $z2, $z3, $z5, $z6, $z8, $z9, $z10;
        java.lang.Integer $r3, $r26, $r27;
        int $i1, $i2, $i3, $i4, $i5, $i6, $i7, $i8, $i9, i17, i18, i19, i20, i21, i22, $i23;
        com.android.server.people.prediction.'-$$Lambda$SharesheetModelScorer$FzdH_f6FO3SF7BWGUjwz4-jY7oI' $r4;
        java.util.Comparator $r5;
        java.lang.Object $r7, $r8, $r11, $r13, $r15, $r32, $r34, $r38, $r41;
        java.lang.Float $r9, $r10, r55, r56;
        float $f0, $f1, $f2, $f3, $f4, $f5, $f6, $f7, $f8, $f9, $f10, $f11, $f12, $f13, $f14, $f15, $f16, $f17, $f18, $f19, $f20, $f21, f22, f23, f24, f25, f26, f27, f28;
        android.util.Pair $r12, $r33, r62;
        com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore $r14, r58, r61;
        com.android.server.people.data.EventHistory $r17, $r18, $r21, $r23;
        java.util.Set $r19, $r24;
        com.android.server.people.data.EventIndex $r20, $r22, $r25;
        java.lang.Comparable $r30, $r36, $r39, $r42;
        java.lang.Long $r31, $r37, $r40, $r43;
        android.util.Range $r35, r50, r53, r54;
        byte $b12;
        java.util.Iterator r45, r49, r52;
        com.android.server.people.prediction.ShareTargetPredictor$ShareTarget r46, r57;
        double d1, d2;
        java.util.PriorityQueue r59;
        java.util.ArrayList r60;
        java.util.function.ToLongFunction r63;

        r0 := @parameter0: java.util.List;

        i17 := @parameter1: int;

        l0 := @parameter2: long;

        $z1 = interfaceinvoke r0.<java.util.List: boolean isEmpty()>();

        if $z1 == 0 goto label01;

        return;

     label01:
        f22 = 0.0F;

        i18 = 0;

        f23 = 0.0F;

        i19 = 0;

        r59 = new java.util.PriorityQueue;

        $r3 = <com.android.server.people.prediction.SharesheetModelScorer: java.lang.Integer RECENCY_SCORE_COUNT>;

        $i1 = virtualinvoke $r3.<java.lang.Integer: int intValue()>();

        $r4 = <com.android.server.people.prediction._$$Lambda$SharesheetModelScorer$FzdH_f6FO3SF7BWGUjwz4_jY7oI: com.android.server.people.prediction.'-$$Lambda$SharesheetModelScorer$FzdH_f6FO3SF7BWGUjwz4-jY7oI' INSTANCE>;

        r63 = (java.util.function.ToLongFunction) $r4;

        $r5 = staticinvoke <java.util.Comparator: java.util.Comparator comparingLong(java.util.function.ToLongFunction)>(r63);

        specialinvoke r59.<java.util.PriorityQueue: void <init>(int,java.util.Comparator)>($i1, $r5);

        r60 = new java.util.ArrayList;

        $i2 = interfaceinvoke r0.<java.util.List: int size()>();

        specialinvoke r60.<java.util.ArrayList: void <init>(int)>($i2);

        r45 = interfaceinvoke r0.<java.util.List: java.util.Iterator iterator()>();

     label02:
        $z10 = interfaceinvoke r45.<java.util.Iterator: boolean hasNext()>();

        if $z10 == 0 goto label14;

        $r15 = interfaceinvoke r45.<java.util.Iterator: java.lang.Object next()>();

        r46 = (com.android.server.people.prediction.ShareTargetPredictor$ShareTarget) $r15;

        r61 = new com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore;

        specialinvoke r61.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: void <init>(com.android.server.people.prediction.SharesheetModelScorer$1)>(null);

        interfaceinvoke r60.<java.util.List: boolean add(java.lang.Object)>(r61);

        $r17 = virtualinvoke r46.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: com.android.server.people.data.EventHistory getEventHistory()>();

        if $r17 != null goto label03;

        goto label02;

     label03:
        $r18 = virtualinvoke r46.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: com.android.server.people.data.EventHistory getEventHistory()>();

        $r19 = <com.android.server.people.data.Event: java.util.Set SHARE_EVENT_TYPES>;

        $r20 = interfaceinvoke $r18.<com.android.server.people.data.EventHistory: com.android.server.people.data.EventIndex getEventIndex(java.util.Set)>($r19);

        r48 = virtualinvoke $r20.<com.android.server.people.data.EventIndex: java.util.List getActiveTimeSlots()>();

        f24 = f22;

        i20 = i18;

        $z5 = interfaceinvoke r48.<java.util.List: boolean isEmpty()>();

        if $z5 != 0 goto label06;

        r49 = interfaceinvoke r48.<java.util.List: java.util.Iterator iterator()>();

     label04:
        $z9 = interfaceinvoke r49.<java.util.Iterator: boolean hasNext()>();

        if $z9 == 0 goto label05;

        $r41 = interfaceinvoke r49.<java.util.Iterator: java.lang.Object next()>();

        r50 = (android.util.Range) $r41;

        $r42 = virtualinvoke r50.<android.util.Range: java.lang.Comparable getLower()>();

        $r43 = (java.lang.Long) $r42;

        $l15 = virtualinvoke $r43.<java.lang.Long: long longValue()>();

        $l16 = l0 - $l15;

        $f21 = staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: float getFreqDecayedOnElapsedTime(long)>($l16);

        virtualinvoke r61.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: void incrementFrequencyScore(float)>($f21);

        goto label04;

     label05:
        $f20 = virtualinvoke r61.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: float getFrequencyScore()>();

        f24 = f22 + $f20;

        i20 = i18 + 1;

     label06:
        $r21 = virtualinvoke r46.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: com.android.server.people.data.EventHistory getEventHistory()>();

        $r22 = interfaceinvoke $r21.<com.android.server.people.data.EventHistory: com.android.server.people.data.EventIndex getEventIndex(int)>(i17);

        r51 = virtualinvoke $r22.<com.android.server.people.data.EventIndex: java.util.List getActiveTimeSlots()>();

        f25 = f23;

        i21 = i19;

        $z6 = interfaceinvoke r51.<java.util.List: boolean isEmpty()>();

        if $z6 != 0 goto label09;

        r52 = interfaceinvoke r51.<java.util.List: java.util.Iterator iterator()>();

     label07:
        $z8 = interfaceinvoke r52.<java.util.Iterator: boolean hasNext()>();

        if $z8 == 0 goto label08;

        $r38 = interfaceinvoke r52.<java.util.Iterator: java.lang.Object next()>();

        r53 = (android.util.Range) $r38;

        $r39 = virtualinvoke r53.<android.util.Range: java.lang.Comparable getLower()>();

        $r40 = (java.lang.Long) $r39;

        $l13 = virtualinvoke $r40.<java.lang.Long: long longValue()>();

        $l14 = l0 - $l13;

        $f19 = staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: float getFreqDecayedOnElapsedTime(long)>($l14);

        virtualinvoke r61.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: void incrementMimeFrequencyScore(float)>($f19);

        goto label07;

     label08:
        $f18 = virtualinvoke r61.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: float getMimeFrequencyScore()>();

        f25 = f23 + $f18;

        i21 = i19 + 1;

     label09:
        $r23 = virtualinvoke r46.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: com.android.server.people.data.EventHistory getEventHistory()>();

        $r24 = <com.android.server.people.data.Event: java.util.Set SHARE_EVENT_TYPES>;

        $r25 = interfaceinvoke $r23.<com.android.server.people.data.EventHistory: com.android.server.people.data.EventIndex getEventIndex(java.util.Set)>($r24);

        r54 = virtualinvoke $r25.<com.android.server.people.data.EventIndex: android.util.Range getMostRecentActiveTimeSlot()>();

        if r54 != null goto label10;

        f22 = f24;

        i18 = i20;

        f23 = f25;

        i19 = i21;

        goto label02;

     label10:
        $i6 = virtualinvoke r59.<java.util.PriorityQueue: int size()>();

        $r26 = <com.android.server.people.prediction.SharesheetModelScorer: java.lang.Integer RECENCY_SCORE_COUNT>;

        $i7 = virtualinvoke $r26.<java.lang.Integer: int intValue()>();

        if $i6 < $i7 goto label11;

        $r30 = virtualinvoke r54.<android.util.Range: java.lang.Comparable getUpper()>();

        $r31 = (java.lang.Long) $r30;

        $l10 = virtualinvoke $r31.<java.lang.Long: long longValue()>();

        $r32 = virtualinvoke r59.<java.util.PriorityQueue: java.lang.Object peek()>();

        $r33 = (android.util.Pair) $r32;

        $r34 = $r33.<android.util.Pair: java.lang.Object second>;

        $r35 = (android.util.Range) $r34;

        $r36 = virtualinvoke $r35.<android.util.Range: java.lang.Comparable getUpper()>();

        $r37 = (java.lang.Long) $r36;

        $l11 = virtualinvoke $r37.<java.lang.Long: long longValue()>();

        $b12 = $l10 cmp $l11;

        if $b12 <= 0 goto label13;

     label11:
        $i8 = virtualinvoke r59.<java.util.PriorityQueue: int size()>();

        $r27 = <com.android.server.people.prediction.SharesheetModelScorer: java.lang.Integer RECENCY_SCORE_COUNT>;

        $i9 = virtualinvoke $r27.<java.lang.Integer: int intValue()>();

        if $i8 != $i9 goto label12;

        virtualinvoke r59.<java.util.PriorityQueue: java.lang.Object poll()>();

     label12:
        r62 = new android.util.Pair;

        specialinvoke r62.<android.util.Pair: void <init>(java.lang.Object,java.lang.Object)>(r61, r54);

        virtualinvoke r59.<java.util.PriorityQueue: boolean offer(java.lang.Object)>(r62);

     label13:
        f22 = f24;

        i18 = i20;

        f23 = f25;

        i19 = i21;

        goto label02;

     label14:
        $z2 = virtualinvoke r59.<java.util.PriorityQueue: boolean isEmpty()>();

        if $z2 != 0 goto label16;

        f26 = 0.4F;

        $i3 = virtualinvoke r59.<java.util.PriorityQueue: int size()>();

        if $i3 <= 1 goto label15;

        $i4 = virtualinvoke r59.<java.util.PriorityQueue: int size()>();

        $i5 = $i4 - 2;

        $f16 = (float) $i5;

        $f17 = $f16 * 0.02F;

        f26 = 0.35F - $f17;

     label15:
        $r11 = virtualinvoke r59.<java.util.PriorityQueue: java.lang.Object poll()>();

        $r12 = (android.util.Pair) $r11;

        $r13 = $r12.<android.util.Pair: java.lang.Object first>;

        $r14 = (com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore) $r13;

        virtualinvoke $r14.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: void setRecencyScore(float)>(f26);

        goto label14;

     label16:
        if i18 == 0 goto label17;

        $f15 = (float) i18;

        f27 = f22 / $f15;

        goto label18;

     label17:
        f27 = 0.0F;

     label18:
        r55 = staticinvoke <java.lang.Float: java.lang.Float valueOf(float)>(f27);

        if i19 == 0 goto label19;

        $f14 = (float) i19;

        f28 = f23 / $f14;

        goto label20;

     label19:
        f28 = 0.0F;

     label20:
        r56 = staticinvoke <java.lang.Float: java.lang.Float valueOf(float)>(f28);

        i22 = 0;

     label21:
        $i23 = interfaceinvoke r60.<java.util.List: int size()>();

        if i22 >= $i23 goto label26;

        $r7 = interfaceinvoke r0.<java.util.List: java.lang.Object get(int)>(i22);

        r57 = (com.android.server.people.prediction.ShareTargetPredictor$ShareTarget) $r7;

        $r8 = interfaceinvoke r60.<java.util.List: java.lang.Object get(int)>(i22);

        r58 = (com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore) $r8;

        $r9 = staticinvoke <java.lang.Float: java.lang.Float valueOf(float)>(0.0F);

        z0 = virtualinvoke r55.<java.lang.Float: boolean equals(java.lang.Object)>($r9);

        if z0 == 0 goto label22;

        d1 = 0.0;

        goto label23;

     label22:
        $f0 = virtualinvoke r58.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: float getFrequencyScore()>();

        $f1 = virtualinvoke r55.<java.lang.Float: float floatValue()>();

        $f2 = $f0 / $f1;

        d1 = (double) $f2;

     label23:
        $f3 = staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: float normalizeFreqScore(double)>(d1);

        virtualinvoke r58.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: void setFrequencyScore(float)>($f3);

        $r10 = staticinvoke <java.lang.Float: java.lang.Float valueOf(float)>(0.0F);

        $z3 = virtualinvoke r56.<java.lang.Float: boolean equals(java.lang.Object)>($r10);

        if $z3 == 0 goto label24;

        d2 = 0.0;

        goto label25;

     label24:
        $f4 = virtualinvoke r58.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: float getMimeFrequencyScore()>();

        $f5 = virtualinvoke r56.<java.lang.Float: float floatValue()>();

        $f6 = $f4 / $f5;

        d2 = (double) $f6;

     label25:
        $f7 = staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: float normalizeMimeFreqScore(double)>(d2);

        virtualinvoke r58.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: void setMimeFrequencyScore(float)>($f7);

        $f8 = virtualinvoke r58.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: float getRecencyScore()>();

        $f9 = virtualinvoke r58.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: float getFrequencyScore()>();

        $f10 = staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: float probOR(float,float)>($f8, $f9);

        $f11 = virtualinvoke r58.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: float getMimeFrequencyScore()>();

        $f12 = staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: float probOR(float,float)>($f10, $f11);

        virtualinvoke r58.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: void setTotalScore(float)>($f12);

        $f13 = virtualinvoke r58.<com.android.server.people.prediction.SharesheetModelScorer$ShareTargetRankingScore: float getTotalScore()>();

        virtualinvoke r57.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: void setScore(float)>($f13);

        i22 = i22 + 1;

        goto label21;

     label26:
        return;
    }

    static void computeScoreForAppShare(java.util.List, int, int, long, com.android.server.people.data.DataManager, int)
    {
        java.util.List r0;
        int i0, i1, i3;
        long l2;
        com.android.server.people.data.DataManager r1;

        r0 := @parameter0: java.util.List;

        i0 := @parameter1: int;

        i1 := @parameter2: int;

        l2 := @parameter3: long;

        r1 := @parameter4: com.android.server.people.data.DataManager;

        i3 := @parameter5: int;

        staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: void computeScore(java.util.List,int,long)>(r0, i0, l2);

        staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: void postProcess(java.util.List,int,com.android.server.people.data.DataManager,int)>(r0, i1, r1, i3);

        return;
    }

    private static java.lang.String findSharingForegroundApp(java.util.Map, com.android.server.people.data.DataManager, int)
    {
        java.util.Map r0;
        long l0, $l1, $l2;
        java.util.List r1;
        java.lang.String r2, r3, $r8, $r9, r11, r12, r13;
        int $i3, i4, i5;
        java.lang.Object $r4, $r6;
        android.app.usage.UsageEvents$Event $r5, $r7;
        boolean $z0, $z1, $z2, $z3;
        com.android.server.people.data.DataManager r10;

        r0 := @parameter0: java.util.Map;

        r10 := @parameter1: com.android.server.people.data.DataManager;

        i4 := @parameter2: int;

        l0 = staticinvoke <java.lang.System: long currentTimeMillis()>();

        $l1 = <com.android.server.people.prediction.SharesheetModelScorer: long FOREGROUND_APP_PROMO_TIME_WINDOW>;

        $l2 = l0 - $l1;

        r1 = virtualinvoke r10.<com.android.server.people.data.DataManager: java.util.List queryAppMovingToForegroundEvents(int,long,long)>(i4, $l2, l0);

        r11 = null;

        $i3 = interfaceinvoke r1.<java.util.List: int size()>();

        i5 = $i3 - 1;

     label1:
        r12 = null;

        if i5 < 0 goto label6;

        $r4 = interfaceinvoke r1.<java.util.List: java.lang.Object get(int)>(i5);

        $r5 = (android.app.usage.UsageEvents$Event) $r4;

        r2 = virtualinvoke $r5.<android.app.usage.UsageEvents$Event: java.lang.String getClassName()>();

        $r6 = interfaceinvoke r1.<java.util.List: java.lang.Object get(int)>(i5);

        $r7 = (android.app.usage.UsageEvents$Event) $r6;

        r3 = virtualinvoke $r7.<android.app.usage.UsageEvents$Event: java.lang.String getPackageName()>();

        r13 = r11;

        if r3 == null goto label5;

        if r2 == null goto label2;

        r13 = r11;

        $r9 = <com.android.server.people.prediction.SharesheetModelScorer: java.lang.String CHOOSER_ACTIVITY>;

        $z3 = virtualinvoke r2.<java.lang.String: boolean contains(java.lang.CharSequence)>($r9);

        if $z3 != 0 goto label5;

     label2:
        $r8 = <com.android.server.people.prediction.SharesheetModelScorer: java.lang.String CHOOSER_ACTIVITY>;

        $z0 = virtualinvoke r3.<java.lang.String: boolean contains(java.lang.CharSequence)>($r8);

        if $z0 == 0 goto label3;

        r13 = r11;

        goto label5;

     label3:
        if r11 != null goto label4;

        r13 = r3;

        goto label5;

     label4:
        r13 = r11;

        $z1 = virtualinvoke r3.<java.lang.String: boolean equals(java.lang.Object)>(r11);

        if $z1 != 0 goto label5;

        r13 = r11;

        $z2 = interfaceinvoke r0.<java.util.Map: boolean containsKey(java.lang.Object)>(r3);

        if $z2 == 0 goto label5;

        r12 = r3;

        goto label6;

     label5:
        i5 = i5 + -1;

        r11 = r13;

        goto label1;

     label6:
        return r12;
    }

    private static float getFreqDecayedOnElapsedTime(long)
    {
        long l0;
        java.time.Duration r0, $r1, $r2, $r3, $r4;
        int $i1, $i2, $i3, $i4;

        l0 := @parameter0: long;

        r0 = staticinvoke <java.time.Duration: java.time.Duration ofMillis(long)>(l0);

        $r1 = staticinvoke <java.time.Duration: java.time.Duration ofDays(long)>(1L);

        $i1 = virtualinvoke r0.<java.time.Duration: int compareTo(java.time.Duration)>($r1);

        if $i1 > 0 goto label1;

        return 1.0F;

     label1:
        $r2 = staticinvoke <java.time.Duration: java.time.Duration ofDays(long)>(3L);

        $i2 = virtualinvoke r0.<java.time.Duration: int compareTo(java.time.Duration)>($r2);

        if $i2 > 0 goto label2;

        return 0.9F;

     label2:
        $r3 = staticinvoke <java.time.Duration: java.time.Duration ofDays(long)>(7L);

        $i3 = virtualinvoke r0.<java.time.Duration: int compareTo(java.time.Duration)>($r3);

        if $i3 > 0 goto label3;

        return 0.8F;

     label3:
        $r4 = staticinvoke <java.time.Duration: java.time.Duration ofDays(long)>(14L);

        $i4 = virtualinvoke r0.<java.time.Duration: int compareTo(java.time.Duration)>($r4);

        if $i4 > 0 goto label4;

        return 0.7F;

     label4:
        return 0.6F;
    }

    static long lambda$computeScore$0(android.util.Pair)
    {
        android.util.Pair r0;
        java.lang.Object $r1;
        android.util.Range $r2;
        java.lang.Comparable $r3;
        java.lang.Long $r4;
        long $l0;

        r0 := @parameter0: android.util.Pair;

        $r1 = r0.<android.util.Pair: java.lang.Object second>;

        $r2 = (android.util.Range) $r1;

        $r3 = virtualinvoke $r2.<android.util.Range: java.lang.Comparable getUpper()>();

        $r4 = (java.lang.Long) $r3;

        $l0 = virtualinvoke $r4.<java.lang.Long: long longValue()>();

        return $l0;
    }

    static java.util.List lambda$postProcess$1(java.lang.String)
    {
        java.lang.String r0;
        java.util.ArrayList $r1;

        r0 := @parameter0: java.lang.String;

        $r1 = new java.util.ArrayList;

        specialinvoke $r1.<java.util.ArrayList: void <init>()>();

        return $r1;
    }

    private static float normalizeFreqScore(double)
    {
        double d0;
        byte $b0, $b1, $b2, $b3;

        d0 := @parameter0: double;

        $b0 = d0 cmpl 2.5;

        if $b0 < 0 goto label1;

        return 0.2F;

     label1:
        $b1 = d0 cmpl 1.5;

        if $b1 < 0 goto label2;

        return 0.15F;

     label2:
        $b2 = d0 cmpl 1.0;

        if $b2 < 0 goto label3;

        return 0.1F;

     label3:
        $b3 = d0 cmpl 0.75;

        if $b3 < 0 goto label4;

        return 0.05F;

     label4:
        return 0.0F;
    }

    private static float normalizeMimeFreqScore(double)
    {
        double d0;
        byte $b0, $b1, $b2;

        d0 := @parameter0: double;

        $b0 = d0 cmpl 2.0;

        if $b0 < 0 goto label1;

        return 0.2F;

     label1:
        $b1 = d0 cmpl 1.2;

        if $b1 < 0 goto label2;

        return 0.15F;

     label2:
        $b2 = d0 cmpl 0.0;

        if $b2 <= 0 goto label3;

        return 0.1F;

     label3:
        return 0.0F;
    }

    private static void postProcess(java.util.List, int, com.android.server.people.data.DataManager, int)
    {
        int i0, i1, $i2, i4;
        com.android.server.people.data.DataManager r0;
        com.android.server.people.prediction.ShareTargetPredictor$ShareTarget r2, $r10;
        boolean $z0;
        java.lang.Object $r4, $r8, $r9;
        android.app.prediction.AppTarget $r5;
        com.android.server.people.prediction.'-$$Lambda$SharesheetModelScorer$HRhV1xJrd8G3UdS1tXl1vXSbjt4' $r6;
        float $f0, $f1;
        byte $b3;
        java.util.List r11, r14;
        java.util.Iterator r12;
        java.lang.String r13;
        android.util.ArrayMap r15;
        java.util.function.Function r16;

        r11 := @parameter0: java.util.List;

        i0 := @parameter1: int;

        r0 := @parameter2: com.android.server.people.data.DataManager;

        i1 := @parameter3: int;

        r15 = new android.util.ArrayMap;

        specialinvoke r15.<android.util.ArrayMap: void <init>()>();

        r12 = interfaceinvoke r11.<java.util.List: java.util.Iterator iterator()>();

     label1:
        $z0 = interfaceinvoke r12.<java.util.Iterator: boolean hasNext()>();

        if $z0 == 0 goto label5;

        $r4 = interfaceinvoke r12.<java.util.Iterator: java.lang.Object next()>();

        r2 = (com.android.server.people.prediction.ShareTargetPredictor$ShareTarget) $r4;

        $r5 = virtualinvoke r2.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: android.app.prediction.AppTarget getAppTarget()>();

        r13 = virtualinvoke $r5.<android.app.prediction.AppTarget: java.lang.String getPackageName()>();

        $r6 = <com.android.server.people.prediction._$$Lambda$SharesheetModelScorer$HRhV1xJrd8G3UdS1tXl1vXSbjt4: com.android.server.people.prediction.'-$$Lambda$SharesheetModelScorer$HRhV1xJrd8G3UdS1tXl1vXSbjt4' INSTANCE>;

        r16 = (java.util.function.Function) $r6;

        interfaceinvoke r15.<java.util.Map: java.lang.Object computeIfAbsent(java.lang.Object,java.util.function.Function)>(r13, r16);

        $r8 = interfaceinvoke r15.<java.util.Map: java.lang.Object get(java.lang.Object)>(r13);

        r14 = (java.util.List) $r8;

        i4 = 0;

     label2:
        $i2 = interfaceinvoke r14.<java.util.List: int size()>();

        if i4 >= $i2 goto label4;

        $f0 = virtualinvoke r2.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: float getScore()>();

        $r9 = interfaceinvoke r14.<java.util.List: java.lang.Object get(int)>(i4);

        $r10 = (com.android.server.people.prediction.ShareTargetPredictor$ShareTarget) $r9;

        $f1 = virtualinvoke $r10.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: float getScore()>();

        $b3 = $f0 cmpl $f1;

        if $b3 <= 0 goto label3;

        goto label4;

     label3:
        i4 = i4 + 1;

        goto label2;

     label4:
        interfaceinvoke r14.<java.util.List: void add(int,java.lang.Object)>(i4, r2);

        goto label1;

     label5:
        staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: void promoteForegroundApp(java.util.Map,com.android.server.people.data.DataManager,int)>(r15, r0, i1);

        staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: void promoteMostChosenAndFrequentlyUsedApps(java.util.Map,int,com.android.server.people.data.DataManager,int)>(r15, i0, r0, i1);

        return;
    }

    private static float probOR(float, float)
    {
        float f0, f1, $f2, $f3, $f4, $f5;

        f0 := @parameter0: float;

        f1 := @parameter1: float;

        $f3 = 1.0F - f0;

        $f2 = 1.0F - f1;

        $f4 = $f3 * $f2;

        $f5 = 1.0F - $f4;

        return $f5;
    }

    private static float promoteApp(java.util.Map, java.util.Map, java.util.function.Function, float, float)
    {
        java.util.Map r0, r19;
        java.util.function.Function r1;
        float f0, f1, $f2, $f3, $f4, $f5, f6, f7, f8;
        java.util.Map$Entry r2;
        java.util.Collection $r3;
        boolean $z0, $z1, $z2;
        java.util.Set $r4;
        java.lang.Object $r5, $r6, $r7, $r8, $r10, $r11, $r13, $r15, $r17;
        java.util.List $r9;
        byte $b0, $b2;
        com.android.server.people.data.AppUsageStatsData $r12, $r16;
        java.lang.Integer $r14, $r18;
        int $i1, $i3, i4;
        java.util.Iterator r20, r21;
        com.android.server.people.prediction.ShareTargetPredictor$ShareTarget r22;

        r0 := @parameter0: java.util.Map;

        r19 := @parameter1: java.util.Map;

        r1 := @parameter2: java.util.function.Function;

        f0 := @parameter3: float;

        f6 := @parameter4: float;

        i4 = 0;

        $r3 = interfaceinvoke r19.<java.util.Map: java.util.Collection values()>();

        r20 = interfaceinvoke $r3.<java.util.Collection: java.util.Iterator iterator()>();

     label1:
        $z0 = interfaceinvoke r20.<java.util.Iterator: boolean hasNext()>();

        if $z0 == 0 goto label2;

        $r15 = interfaceinvoke r20.<java.util.Iterator: java.lang.Object next()>();

        $r16 = (com.android.server.people.data.AppUsageStatsData) $r15;

        $r17 = interfaceinvoke r1.<java.util.function.Function: java.lang.Object apply(java.lang.Object)>($r16);

        $r18 = (java.lang.Integer) $r17;

        $i3 = virtualinvoke $r18.<java.lang.Integer: int intValue()>();

        i4 = staticinvoke <java.lang.Math: int max(int,int)>(i4, $i3);

        goto label1;

     label2:
        f7 = f6;

        if i4 <= 0 goto label7;

        $r4 = interfaceinvoke r19.<java.util.Map: java.util.Set entrySet()>();

        r21 = interfaceinvoke $r4.<java.util.Set: java.util.Iterator iterator()>();

     label3:
        f7 = f6;

        $z2 = interfaceinvoke r21.<java.util.Iterator: boolean hasNext()>();

        if $z2 == 0 goto label7;

        $r5 = interfaceinvoke r21.<java.util.Iterator: java.lang.Object next()>();

        r2 = (java.util.Map$Entry) $r5;

        $r6 = interfaceinvoke r2.<java.util.Map$Entry: java.lang.Object getKey()>();

        $z1 = interfaceinvoke r0.<java.util.Map: boolean containsKey(java.lang.Object)>($r6);

        if $z1 != 0 goto label4;

        goto label3;

     label4:
        $r7 = interfaceinvoke r2.<java.util.Map$Entry: java.lang.Object getKey()>();

        $r8 = interfaceinvoke r0.<java.util.Map: java.lang.Object get(java.lang.Object)>($r7);

        $r9 = (java.util.List) $r8;

        $r10 = interfaceinvoke $r9.<java.util.List: java.lang.Object get(int)>(0);

        r22 = (com.android.server.people.prediction.ShareTargetPredictor$ShareTarget) $r10;

        $f2 = virtualinvoke r22.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: float getScore()>();

        $b0 = $f2 cmpl 0.0F;

        if $b0 <= 0 goto label5;

        goto label3;

     label5:
        $r11 = interfaceinvoke r2.<java.util.Map$Entry: java.lang.Object getValue()>();

        $r12 = (com.android.server.people.data.AppUsageStatsData) $r11;

        $r13 = interfaceinvoke r1.<java.util.function.Function: java.lang.Object apply(java.lang.Object)>($r12);

        $r14 = (java.lang.Integer) $r13;

        $i1 = virtualinvoke $r14.<java.lang.Integer: int intValue()>();

        $f3 = (float) $i1;

        $f5 = $f3 * f0;

        $f4 = (float) i4;

        f1 = $f5 / $f4;

        virtualinvoke r22.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: void setScore(float)>(f1);

        f8 = f6;

        $b2 = f1 cmpl 0.0F;

        if $b2 <= 0 goto label6;

        f8 = staticinvoke <java.lang.Math: float min(float,float)>(f6, f1);

     label6:
        f6 = f8;

        goto label3;

     label7:
        return f7;
    }

    private static void promoteForegroundApp(java.util.Map, com.android.server.people.data.DataManager, int)
    {
        int i0;
        java.lang.Object $r0, $r2;
        java.util.List $r1;
        float $f0, $f1;
        java.util.Map r3;
        com.android.server.people.data.DataManager r4;
        java.lang.String r5;
        com.android.server.people.prediction.ShareTargetPredictor$ShareTarget r6;

        r3 := @parameter0: java.util.Map;

        r4 := @parameter1: com.android.server.people.data.DataManager;

        i0 := @parameter2: int;

        r5 = staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: java.lang.String findSharingForegroundApp(java.util.Map,com.android.server.people.data.DataManager,int)>(r3, r4, i0);

        if r5 == null goto label1;

        $r0 = interfaceinvoke r3.<java.util.Map: java.lang.Object get(java.lang.Object)>(r5);

        $r1 = (java.util.List) $r0;

        $r2 = interfaceinvoke $r1.<java.util.List: java.lang.Object get(int)>(0);

        r6 = (com.android.server.people.prediction.ShareTargetPredictor$ShareTarget) $r2;

        $f0 = virtualinvoke r6.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: float getScore()>();

        $f1 = staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: float probOR(float,float)>($f0, 0.0F);

        virtualinvoke r6.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: void setScore(float)>($f1);

     label1:
        return;
    }

    private static void promoteMostChosenAndFrequentlyUsedApps(java.util.Map, int, com.android.server.people.data.DataManager, int)
    {
        java.util.Map r0, r12;
        int i0, i1, i6, i7;
        java.util.Iterator r1, r2;
        com.android.server.people.prediction.ShareTargetPredictor$ShareTarget r3;
        long l2, $l3, $l4;
        java.util.Collection $r4;
        boolean $z0, $z1;
        java.util.Set $r5;
        float $f0, $f1, $f3, $f4, f5, f6, f7;
        com.android.server.people.prediction.'-$$Lambda$DMVkqXFJLO7sJ5RamFQqFFai5uw' $r6;
        com.android.server.people.prediction.'-$$Lambda$cimiWkq7Holbf24FNF8j5P8r50M' $r7;
        java.lang.Object $r8, $r10;
        java.util.List $r9;
        byte $b5;
        com.android.server.people.data.DataManager r11;
        java.util.function.Function r13, r14;

        r0 := @parameter0: java.util.Map;

        i0 := @parameter1: int;

        r11 := @parameter2: com.android.server.people.data.DataManager;

        i1 := @parameter3: int;

        i6 = 0;

        f5 = 1.0F;

        $r4 = interfaceinvoke r0.<java.util.Map: java.util.Collection values()>();

        r1 = interfaceinvoke $r4.<java.util.Collection: java.util.Iterator iterator()>();

     label1:
        $z0 = interfaceinvoke r1.<java.util.Iterator: boolean hasNext()>();

        if $z0 == 0 goto label5;

        $r8 = interfaceinvoke r1.<java.util.Iterator: java.lang.Object next()>();

        $r9 = (java.util.List) $r8;

        r2 = interfaceinvoke $r9.<java.util.List: java.util.Iterator iterator()>();

     label2:
        $z1 = interfaceinvoke r2.<java.util.Iterator: boolean hasNext()>();

        if $z1 == 0 goto label4;

        $r10 = interfaceinvoke r2.<java.util.Iterator: java.lang.Object next()>();

        r3 = (com.android.server.people.prediction.ShareTargetPredictor$ShareTarget) $r10;

        i7 = i6;

        f6 = f5;

        $f3 = virtualinvoke r3.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: float getScore()>();

        $b5 = $f3 cmpl 0.0F;

        if $b5 <= 0 goto label3;

        i7 = i6 + 1;

        $f4 = virtualinvoke r3.<com.android.server.people.prediction.ShareTargetPredictor$ShareTarget: float getScore()>();

        f6 = staticinvoke <java.lang.Math: float min(float,float)>($f4, f5);

     label3:
        i6 = i7;

        f5 = f6;

        goto label2;

     label4:
        goto label1;

     label5:
        if i6 < i0 goto label6;

        return;

     label6:
        l2 = staticinvoke <java.lang.System: long currentTimeMillis()>();

        $l3 = <com.android.server.people.prediction.SharesheetModelScorer: long ONE_MONTH_WINDOW>;

        $l4 = l2 - $l3;

        $r5 = interfaceinvoke r0.<java.util.Map: java.util.Set keySet()>();

        r12 = virtualinvoke r11.<com.android.server.people.data.DataManager: java.util.Map queryAppUsageStats(int,long,long,java.util.Set)>(i1, $l4, l2, $r5);

        $r6 = <com.android.server.people.prediction._$$Lambda$DMVkqXFJLO7sJ5RamFQqFFai5uw: com.android.server.people.prediction.'-$$Lambda$DMVkqXFJLO7sJ5RamFQqFFai5uw' INSTANCE>;

        $f0 = 0.9F * f5;

        r13 = (java.util.function.Function) $r6;

        f7 = staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: float promoteApp(java.util.Map,java.util.Map,java.util.function.Function,float,float)>(r0, r12, r13, $f0, f5);

        $r7 = <com.android.server.people.prediction._$$Lambda$cimiWkq7Holbf24FNF8j5P8r50M: com.android.server.people.prediction.'-$$Lambda$cimiWkq7Holbf24FNF8j5P8r50M' INSTANCE>;

        $f1 = 0.3F * f7;

        r14 = (java.util.function.Function) $r7;

        staticinvoke <com.android.server.people.prediction.SharesheetModelScorer: float promoteApp(java.util.Map,java.util.Map,java.util.function.Function,float,float)>(r0, r12, r14, $f1, f7);

        return;
    }
}
